{"ast":null,"code":"var _jsxFileName = \"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/role/role.jsx\";\nimport React, { Component } from 'react';\nimport { Card, Button, Table } from 'antd';\nimport { reqRoleList } from '../../../api/api.js';\nimport RoleAdd from '../role/roleAdd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Role extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      roleList: [],\n      // 0 不显示添加和修改组件 1 显示添加 2显示修改\n      showStatus: 0\n    };\n\n    this.initColumn = () => {\n      this.columns = [{\n        title: '角色名称',\n        dataIndex: 'name'\n      }, {\n        title: '描述信息',\n        dataIndex: 'description'\n      }, {\n        title: '排序码',\n        dataIndex: 'sort'\n      }, {\n        title: '启用状态',\n        dataIndex: 'enabled'\n      }, {\n        title: '创建时间',\n        dataIndex: 'gmtCreate'\n      }];\n    };\n\n    this.getRoleList = async () => {\n      const result = await reqRoleList();\n\n      if (result.code === 200) {\n        const data = result.data.records;\n        this.setState({\n          roleList: data\n        });\n      }\n    };\n\n    this.toggleVisible = status => {\n      this.setState({\n        showStatus: status\n      });\n    };\n  }\n\n  componentWillMount() {\n    this.initColumn();\n  }\n\n  componentDidMount() {\n    this.getRoleList();\n  }\n\n  render() {\n    const {\n      roleList,\n      showStatus\n    } = this.state;\n\n    const title = /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: () => this.toggleVisible(1),\n        children: \"\\u65B0\\u589E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(Card, {\n      title: title,\n      children: [/*#__PURE__*/_jsxDEV(Table, {\n        rowKey: \"id\",\n        rowSelection: {\n          type: \"checkout\"\n        },\n        columns: this.columns,\n        dataSource: roleList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RoleAdd, {\n        visible: showStatus,\n        toggleVisible: this.toggleVisible,\n        onRefresh: this.getRoleList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Role;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/role/role.jsx"],"names":["React","Component","Card","Button","Table","reqRoleList","RoleAdd","Role","state","roleList","showStatus","initColumn","columns","title","dataIndex","getRoleList","result","code","data","records","setState","toggleVisible","status","componentWillMount","componentDidMount","render","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,QAAoC,MAApC;AAEA,SAASC,WAAT,QAA4B,qBAA5B;AAEA,OAAOC,OAAP,MAAoB,iBAApB;;;AAEA,MAAMC,IAAN,SAAmBN,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAEzBO,KAFyB,GAEjB;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJ;AACAC,MAAAA,UAAU,EAAE;AAHR,KAFiB;;AAAA,SAQzBC,UARyB,GAQZ,MAAM;AACf,WAAKC,OAAL,GAAe,CACX;AACIC,QAAAA,KAAK,EAAE,MADX;AAEIC,QAAAA,SAAS,EAAE;AAFf,OADW,EAKX;AACID,QAAAA,KAAK,EAAE,MADX;AAEIC,QAAAA,SAAS,EAAE;AAFf,OALW,EASX;AACID,QAAAA,KAAK,EAAE,KADX;AAEIC,QAAAA,SAAS,EAAE;AAFf,OATW,EAaX;AACID,QAAAA,KAAK,EAAE,MADX;AAEIC,QAAAA,SAAS,EAAE;AAFf,OAbW,EAiBX;AACID,QAAAA,KAAK,EAAE,MADX;AAEIC,QAAAA,SAAS,EAAE;AAFf,OAjBW,CAAf;AAsBH,KA/BwB;;AAAA,SAiCzBC,WAjCyB,GAiCX,YAAY;AACtB,YAAMC,MAAM,GAAG,MAAMX,WAAW,EAAhC;;AACA,UAAIW,MAAM,CAACC,IAAP,KAAgB,GAApB,EAAyB;AACrB,cAAMC,IAAI,GAAGF,MAAM,CAACE,IAAP,CAAYC,OAAzB;AACA,aAAKC,QAAL,CAAc;AAAEX,UAAAA,QAAQ,EAAES;AAAZ,SAAd;AACH;AACJ,KAvCwB;;AAAA,SA0CzBG,aA1CyB,GA0CRC,MAAD,IAAY;AACxB,WAAKF,QAAL,CAAc;AACVV,QAAAA,UAAU,EAAEY;AADF,OAAd;AAGH,KA9CwB;AAAA;;AAgDzBC,EAAAA,kBAAkB,GAAG;AACjB,SAAKZ,UAAL;AACH;;AAEDa,EAAAA,iBAAiB,GAAG;AAChB,SAAKT,WAAL;AACH;;AAEDU,EAAAA,MAAM,GAAG;AAEL,UAAM;AAAEhB,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAA2B,KAAKF,KAAtC;;AACA,UAAMK,KAAK,gBACP;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,SAAb;AAAuB,QAAA,OAAO,EAAE,MAAK,KAAKQ,aAAL,CAAmB,CAAnB,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;;AAMA,wBACI,QAAC,IAAD;AAAM,MAAA,KAAK,EAAER,KAAb;AAAA,8BACI,QAAC,KAAD;AACI,QAAA,MAAM,EAAC,IADX;AAEI,QAAA,YAAY,EAAE;AAAEa,UAAAA,IAAI,EAAE;AAAR,SAFlB;AAGI,QAAA,OAAO,EAAE,KAAKd,OAHlB;AAII,QAAA,UAAU,EAAEH;AAJhB;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI,QAAC,OAAD;AAAS,QAAA,OAAO,EAAEC,UAAlB;AAA8B,QAAA,aAAa,EAAE,KAAKW,aAAlD;AAAiE,QAAA,SAAS,EAAE,KAAKN;AAAjF;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AA3EwB;;AA8E7B,eAAeR,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Card, Button, Table } from 'antd'\n\nimport { reqRoleList } from '../../../api/api.js'\n\nimport RoleAdd from '../role/roleAdd'\n\nclass Role extends Component {\n\n    state = {\n        roleList: [],\n        // 0 不显示添加和修改组件 1 显示添加 2显示修改\n        showStatus: 0,\n    }\n\n    initColumn = () => {\n        this.columns = [\n            {\n                title: '角色名称',\n                dataIndex: 'name',\n            },\n            {\n                title: '描述信息',\n                dataIndex: 'description',\n            },\n            {\n                title: '排序码',\n                dataIndex: 'sort',\n            },\n            {\n                title: '启用状态',\n                dataIndex: 'enabled',\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'gmtCreate',\n            }\n        ]\n    }\n\n    getRoleList = async () => {\n        const result = await reqRoleList();\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ roleList: data })\n        }\n    }\n\n    //显示添加组件\n    toggleVisible = (status) => {\n        this.setState({\n            showStatus: status\n        })\n    }\n\n    componentWillMount() {\n        this.initColumn();\n    }\n\n    componentDidMount() {\n        this.getRoleList();\n    }\n\n    render() {\n\n        const { roleList, showStatus } = this.state;\n        const title = (\n            <span>\n                <Button type=\"primary\" onClick={() =>this.toggleVisible(1)}>新增</Button>\n            </span>\n        )\n\n        return (\n            <Card title={title}>\n                <Table\n                    rowKey=\"id\"\n                    rowSelection={{ type: \"checkout\" }}\n                    columns={this.columns}\n                    dataSource={roleList} />\n                <RoleAdd visible={showStatus} toggleVisible={this.toggleVisible} onRefresh={this.getRoleList} />\n            </Card>\n        );\n    }\n}\n\nexport default Role;"]},"metadata":{},"sourceType":"module"}