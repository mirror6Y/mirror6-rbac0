{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Card,Button,Table,Modal,notification,Space,Switch,Form,Row,Col,Select,Input,DatePicker}from'antd';import{QuestionCircleOutlined,ExclamationCircleOutlined}from'@ant-design/icons';import{formatDate,parseDate}from'../../../utils/dateUtil';// import LinkButton from '../../../components/button'\nimport{reqMenuList,reqMenuAdd,reqMenuDelete,reqMenuEdit}from'../../../api/api.js';import MenuModal from'./menuModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormItem=Form.Item;var Option=Select.Option;var RangePicker=DatePicker.RangePicker;var Menu=/*#__PURE__*/function(_Component){_inherits(Menu,_Component);var _super=_createSuper(Menu);function Menu(){var _this;_classCallCheck(this,Menu);_this=_super.call(this);_this.formRef=/*#__PURE__*/React.createRef();_this.initColumn=function(){_this.columns=[{title:'序号',render:function render(text,record,index){return/*#__PURE__*/_jsx(\"span\",{children:(_this.state.pagination.current-1)*_this.state.pagination.pageSize+(index+1)});}},{title:'菜单名称',dataIndex:'title'},{title:'描述信息',dataIndex:'description'},{title:'url',dataIndex:'url'},{title:'图标',dataIndex:'iocnPath'},{title:'是否启用',dataIndex:'enabled',render:function render(text,record,index){return/*#__PURE__*/_jsx(Switch,{checkedChildren:\"\\u5F00\\u542F\",unCheckedChildren:\"\\u5173\\u95ED\",checked:text===0?0:1,defaultChecked:true,onChange:function onChange(){return _this.onChange(text,record);}});}},{title:'创建时间',dataIndex:'gmtCreate',render:function render(value){return formatDate(value);}},{title:'操作',render:function render(obj){return/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this.showEdit(obj);},children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(Button,{type:\"danger\",onClick:function onClick(){return _this.deleteMenu(obj.id);},children:\"\\u5220\\u9664\"})]})});}}];};_this.getMenuList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var current,pageSize,pagination,data,result,_data,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:current=_args.length>0&&_args[0]!==undefined?_args[0]:1;pageSize=_args.length>1&&_args[1]!==undefined?_args[1]:10;pagination=_this.state.pagination;data=_this.formRef.current.getFieldsValue();data.pageNum=current;data.pageSize=pageSize;_context.next=8;return reqMenuList(data);case 8:result=_context.sent;if(result.code===200){_data=result.data.records;_this.setState({list:_data,pagination:_objectSpread(_objectSpread({},pagination),{},{total:result.data.total,current:current,pageSize:pageSize})});}case 10:case\"end\":return _context.stop();}}},_callee);}));_this.search=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,result,_data2;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:data=_this.formRef.current.getFieldsValue();if(data.gmtCreate){data.gmtCreate=parseDate(data.gmtCreate[0]._d)+\"&\"+parseDate(data.gmtCreate[1]._d);}_context2.next=4;return reqMenuList(data);case 4:result=_context2.sent;if(result.code===200){_data2=result.data.records;_this.setState({list:_data2});}case 6:case\"end\":return _context2.stop();}}},_callee2);}));_this.onTableChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState({pagination:page});case 2:_this.getMenuList(page.current,page.pageSize);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.onChange=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(text,record){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:Modal.confirm({title:'提示',okText:'确定',cancelText:'取消',icon:/*#__PURE__*/_jsx(ExclamationCircleOutlined,{}),content:'您确定修改启用状态吗？',onOk:function(){var _onOk=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(record.enabled===0){record.enabled=1;}else{record.enabled=0;}_context4.next=3;return reqMenuEdit(record);case 3:result=_context4.sent;if(result.code===200){notification.success({duration:2,message:'提示',description:result.msg});_this.getMenuList();}else{notification.error({duration:null,message:'提示',description:result.msg});}case 5:case\"end\":return _context4.stop();}}},_callee4);}));function onOk(){return _onOk.apply(this,arguments);}return onOk;}()});case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();_this.handleCancel=function(){_this.setState({modalIsVisible:false});};_this.showAdd=function(){console.log(_this.state);_this.setState({modalStatus:'add',modalIsVisible:true});};_this.showEdit=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(data){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this.setState({modalStatus:'edit',modalIsVisible:true});_this.editData=data;console.log(_this.editData+\"123\");case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref5.apply(this,arguments);};}();_this.handleOk=function(params){var status=_this.state.modalStatus;console.log(params,status);if(\"add\"==status){_this.addMenu(params);}else{_this.editMenu(params);}};_this.addMenu=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data){var result;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return reqMenuAdd(data);case 2:result=_context7.sent;if(result.code===200){_this.setState({modalIsVisible:false});notification.success({duration:2,message:'提示',description:result.msg});_this.getMenuList();}else{notification.error({duration:null,message:'提示',description:result.msg});}case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref6.apply(this,arguments);};}();_this.handleEdit=function(){var ref=_this.editChild.current.editRef.current;ref.validateFields().then(function(values){_this.editMenu(values);_this.setState({modalIsVisible:false});}).catch(function(errorInfo){console.log(errorInfo);});};_this.editMenu=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){var result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return reqMenuEdit(data);case 2:result=_context8.sent;if(result.code===200){_this.setState({modalIsVisible:false});notification.success({duration:2,message:'提示',description:result.msg});_this.getMenuList();}else{notification.error({duration:null,message:'提示',description:result.msg});}case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref7.apply(this,arguments);};}();_this.deleteMenu=function(index){Modal.confirm({title:'提示',okText:'确定',cancelText:'取消',icon:/*#__PURE__*/_jsx(QuestionCircleOutlined,{}),content:'您确定删除此条内容吗？',onOk:function(){var _onOk2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var ids,result;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:ids=new Array();ids[0]=index;_context9.next=4;return reqMenuDelete(ids);case 4:result=_context9.sent;if(result.code===200){notification.success({duration:2,message:'提示',description:result.msg});_this.getMenuList();}else{notification.error({duration:null,message:'提示',description:result.msg});}case 6:case\"end\":return _context9.stop();}}},_callee9);}));function onOk(){return _onOk2.apply(this,arguments);}return onOk;}()});};_this.deleteBatch=function(){Modal.confirm({title:'提示',okText:'确定',cancelText:'取消',icon:/*#__PURE__*/_jsx(QuestionCircleOutlined,{}),content:\"\\u60A8\\u786E\\u5B9A\\u5220\\u9664\".concat(_this.state.selectedRowKeys.length,\"\\u9879\\u5417\\uFF1F\"),onOk:function(){var _onOk3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var ids,result;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:ids=_this.state.selectedRowKeys;console.log(\"123\"+ids);_context10.next=4;return reqMenuDelete(ids);case 4:result=_context10.sent;if(result.code===200){notification.success({duration:2,message:'提示',description:result.msg});_this.setState({selectedRowKeys:[]});_this.getMenuList();}else{notification.error({duration:null,message:'提示',description:result.msg});}case 6:case\"end\":return _context10.stop();}}},_callee10);}));function onOk(){return _onOk3.apply(this,arguments);}return onOk;}()});};_this.resetSearch=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var result,data;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this.formRef.current.resetFields();_context11.next=3;return reqMenuList({pageNum:1,pageSize:10});case 3:result=_context11.sent;if(result.code===200){data=result.data.records;_this.setState({list:data});}case 5:case\"end\":return _context11.stop();}}},_callee11);}));_this.state={list:[],selectedRowKeys:[],// 0 不显示添加和修改组件 1 显示添加 2显示修改\npagination:{total:0,current:1,pageSize:15,pageSizeOptions:[15,30,50,100],showQuickJumper:true,showSizeChanger:true},modalStatus:'add',modalIsVisible:false};return _this;}_createClass(Menu,[{key:\"componentWillMount\",value:function componentWillMount(){this.initColumn();}},{key:\"componentDidMount\",value:function componentDidMount(){this.getMenuList();}},{key:\"render\",value:function render(){var _this2=this;var editData=this.editData;var _this$state=this.state,list=_this$state.list,selectedRowKeys=_this$state.selectedRowKeys,pagination=_this$state.pagination,modalIsVisible=_this$state.modalIsVisible,modalStatus=_this$state.modalStatus;var rowSelection={selectedRowKeys:selectedRowKeys,onChange:function onChange(selectedRowKeys){return _this2.setState({selectedRowKeys:selectedRowKeys});}};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Form,{ref:this.formRef,style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Row,{gutter:24,children:[/*#__PURE__*/_jsx(Col,{span:5,children:/*#__PURE__*/_jsx(FormItem,{name:\"title\",label:\"\\u6807\\u9898\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6807\\u9898\"})})}),/*#__PURE__*/_jsx(Col,{span:5,children:/*#__PURE__*/_jsx(FormItem,{name:\"description\",label:\"\\u63CF\\u8FF0\\u4FE1\\u606F\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u63CF\\u8FF0\\u4FE1\\u606F\"})})}),/*#__PURE__*/_jsx(Col,{span:5,children:/*#__PURE__*/_jsx(FormItem,{name:\"enabled\",label:\"\\u542F\\u7528\\u72B6\\u6001\",children:/*#__PURE__*/_jsxs(Select,{placeholder:\"\\u8BF7\\u9009\\u62E9\",children:[/*#__PURE__*/_jsx(Option,{value:\"1\",children:\"\\u5F00\\u542F\"}),/*#__PURE__*/_jsx(Option,{value:\"0\",children:\"\\u5173\\u95ED\"})]})})}),/*#__PURE__*/_jsx(Col,{span:6,children:/*#__PURE__*/_jsx(FormItem,{name:\"gmtCreate\",label:\"\\u521B\\u5EFA\\u65F6\\u95F4\",children:/*#__PURE__*/_jsx(RangePicker,{})})}),/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.search,children:\"\\u641C\\u7D22\"}),/*#__PURE__*/_jsx(Button,{onClick:this.resetSearch,children:\"\\u91CD\\u7F6E \"})]})})]})}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:this.showAdd,children:\"\\u65B0\\u589E\"}),/*#__PURE__*/_jsx(Button,{type:\"danger\",disabled:!selectedRowKeys.length,onClick:this.deleteBatch,children:\"\\u6279\\u91CF\\u5220\\u9664\"})]})}),/*#__PURE__*/_jsx(Table,{rowSelection:rowSelection,columns:this.columns,rowKey:\"id\",dataSource:list,pagination:pagination,onChange:this.onTableChange,style:{marginTop:10}}),modalIsVisible&&/*#__PURE__*/_jsx(MenuModal,{visible:modalIsVisible,modalStatus:modalStatus,currentItem:editData,onCancel:this.handleCancel,handleOk:this.handleOk})]});}}]);return Menu;}(Component);export default Menu;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/menu/menu.jsx"],"names":["React","Component","Card","Button","Table","Modal","notification","Space","Switch","Form","Row","Col","Select","Input","DatePicker","QuestionCircleOutlined","ExclamationCircleOutlined","formatDate","parseDate","reqMenuList","reqMenuAdd","reqMenuDelete","reqMenuEdit","MenuModal","FormItem","Item","Option","RangePicker","Menu","formRef","createRef","initColumn","columns","title","render","text","record","index","state","pagination","current","pageSize","dataIndex","onChange","value","obj","showEdit","deleteMenu","id","getMenuList","data","getFieldsValue","pageNum","result","code","records","setState","list","total","search","gmtCreate","_d","onTableChange","page","confirm","okText","cancelText","icon","content","onOk","enabled","success","duration","message","description","msg","error","handleCancel","modalIsVisible","showAdd","console","log","modalStatus","editData","handleOk","params","status","addMenu","editMenu","handleEdit","ref","editChild","editRef","validateFields","then","values","catch","errorInfo","ids","Array","deleteBatch","selectedRowKeys","length","resetSearch","resetFields","pageSizeOptions","showQuickJumper","showSizeChanger","rowSelection","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Card, Button, Table, Modal, notification, Space, Switch, Form, Row, Col, Select, Input, DatePicker } from 'antd'\nimport { QuestionCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\n\nimport { formatDate, parseDate } from '../../../utils/dateUtil'\n// import LinkButton from '../../../components/button'\nimport { reqMenuList, reqMenuAdd, reqMenuDelete, reqMenuEdit } from '../../../api/api.js'\nimport MenuModal from './menuModal'\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst { RangePicker } = DatePicker;\nclass Menu extends Component {\n\n    formRef = React.createRef();\n\n    constructor() {\n        super()\n        this.state = {\n            list: [],\n            selectedRowKeys: [],\n            // 0 不显示添加和修改组件 1 显示添加 2显示修改\n            pagination: {\n                total: 0,\n                current: 1,\n                pageSize: 15,\n                pageSizeOptions: [15, 30, 50, 100],\n                showQuickJumper: true,\n                showSizeChanger: true\n            },\n            modalStatus: 'add',\n            modalIsVisible: false\n        }\n    }\n\n    initColumn = () => {\n        this.columns = [\n            {\n                title: '序号',\n                render: (text, record, index) => {\n                    return (\n                        <span>{(this.state.pagination.current - 1) * this.state.pagination.pageSize + (index + 1)}</span>\n                    )\n                }\n            },\n            {\n                title: '菜单名称',\n                dataIndex: 'title',\n            },\n            {\n                title: '描述信息',\n                dataIndex: 'description',\n            },\n            {\n                title: 'url',\n                dataIndex: 'url',\n            },\n            {\n                title: '图标',\n                dataIndex: 'iocnPath'\n            },\n            {\n                title: '是否启用',\n                dataIndex: 'enabled',\n                render: (text, record, index) => (\n                    <Switch checkedChildren=\"开启\" unCheckedChildren=\"关闭\" checked={text === 0 ? 0 : 1} defaultChecked onChange={() => this.onChange(text, record)} />\n                )\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'gmtCreate',\n                render: (value) => {\n                    return formatDate(value);\n                }\n            },\n            {\n                title: '操作',\n                render: (obj) => (\n                    <span>\n                        <Space>\n                            <Button onClick={() => this.showEdit(obj)}>编辑</Button>\n                            <Button type='danger' onClick={() => this.deleteMenu(obj.id)}>删除</Button>\n                        </Space>\n                    </span>\n                )\n            }\n        ]\n    }\n\n    getMenuList = async (current = 1, pageSize = 10) => {\n        const { pagination } = this.state;\n\n        const data = this.formRef.current.getFieldsValue();\n        data.pageNum = current;\n        data.pageSize = pageSize;\n\n        const result = await reqMenuList(data);\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({\n                list: data,\n                pagination: {\n                    ...pagination,\n                    total: result.data.total,\n                    current: current,\n                    pageSize: pageSize\n                }\n            })\n        }\n    }\n\n    //列表搜索\n    search = async () => {\n        const data = this.formRef.current.getFieldsValue();\n        if (data.gmtCreate) {\n            data.gmtCreate = parseDate(data.gmtCreate[0]._d) + \"&\" + parseDate(data.gmtCreate[1]._d)\n        }\n        const result = await reqMenuList(data);\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ list: data })\n        }\n    }\n\n\n    //table分页\n    onTableChange = async (page) => {\n        await this.setState({\n            pagination: page\n        })\n        this.getMenuList(page.current, page.pageSize);\n    }\n\n    //修改启用状态\n    onChange = async (text, record) => {\n\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <ExclamationCircleOutlined />,\n            content: '您确定修改启用状态吗？',\n            onOk: async () => {\n                if (record.enabled === 0) {\n                    record.enabled = 1\n                } else {\n                    record.enabled = 0\n                }\n                const result = await reqMenuEdit(record);\n                if (result.code === 200) {\n\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    handleCancel = () => {\n        this.setState({\n            modalIsVisible: false\n        })\n    }\n\n    //显示添加组件\n    showAdd = () => {\n        console.log(this.state);\n\n        this.setState({\n            modalStatus: 'add',\n            modalIsVisible: true\n        })\n    }\n\n    //显示编辑组件\n    showEdit = async (data) => {\n\n        this.setState({\n            modalStatus: 'edit',\n            modalIsVisible: true\n        })\n\n        this.editData = data;\n        console.log(this.editData + \"123\")\n    }\n\n    //添加验证\n    handleOk = (params) => {\n        var status = this.state.modalStatus;\n        console.log(params, status)\n        if (\"add\" == status) {\n            this.addMenu(params);\n        } else {\n            this.editMenu(params);\n        }\n    }\n\n    //添加方法\n    addMenu = async (data) => {\n        const result = await reqMenuAdd(data);\n        if (result.code === 200) {\n            this.setState({\n                modalIsVisible: false\n            })\n            notification.success({\n                duration: 2,\n                message: '提示',\n                description: result.msg\n            });\n            this.getMenuList();\n        } else {\n            notification.error({\n                duration: null,\n                message: '提示',\n                description: result.msg\n            })\n        }\n    }\n\n    //编辑验证\n    handleEdit = () => {\n        const ref = this.editChild.current.editRef.current;\n        ref.validateFields()\n            .then(values => {\n                this.editMenu(values);\n                this.setState({ modalIsVisible: false });\n            })\n            .catch(errorInfo => {\n                console.log(errorInfo)\n            });\n    }\n\n    //编辑信息\n    editMenu = async (data) => {\n        const result = await reqMenuEdit(data);\n        if (result.code === 200) {\n            this.setState({\n                modalIsVisible: false\n            })\n            notification.success({\n                duration: 2,\n                message: '提示',\n                description: result.msg\n            });\n            this.getMenuList();\n        } else {\n            notification.error({\n                duration: null,\n                message: '提示',\n                description: result.msg\n            })\n        }\n    }\n\n    //删除信息\n    deleteMenu = (index) => {\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <QuestionCircleOutlined />,\n            content: '您确定删除此条内容吗？',\n            onOk: async () => {\n                var ids = new Array();\n                ids[0] = index;\n\n                const result = await reqMenuDelete(ids);\n                if (result.code === 200) {\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    deleteBatch = () => {\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <QuestionCircleOutlined />,\n            content: `您确定删除${this.state.selectedRowKeys.length}项吗？`,\n            onOk: async () => {\n\n                const ids = this.state.selectedRowKeys;\n                console.log(\"123\" + ids)\n                const result = await reqMenuDelete(ids);\n                if (result.code === 200) {\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.setState({\n                        selectedRowKeys: []\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    componentWillMount() {\n        this.initColumn();\n    }\n\n    componentDidMount() {\n        this.getMenuList();\n    }\n    resetSearch = async () => {\n        this.formRef.current.resetFields()\n        const result = await reqMenuList({ pageNum: 1, pageSize: 10 });\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ list: data })\n        }\n    }\n    render() {\n\n        const editData = this.editData;\n        const { list, selectedRowKeys, pagination, modalIsVisible, modalStatus } = this.state;\n\n        const rowSelection = {\n            selectedRowKeys: selectedRowKeys,\n            onChange: (selectedRowKeys) => this.setState({ selectedRowKeys })\n        }\n\n        return (\n            <Card>\n                <Form\n                    ref={this.formRef}\n                    style={{ marginBottom: 16 }}\n                >\n                    <Row gutter={24}>\n                        <Col span={5}>\n                            <FormItem name=\"title\" label=\"标题\">\n                                <Input placeholder=\"请输入标题\" />\n                            </FormItem>\n                        </Col>\n                        <Col span={5}>\n                            <FormItem name=\"description\" label=\"描述信息\" >\n                                <Input placeholder=\"请输入描述信息\" />\n                            </FormItem>\n                        </Col>\n                        <Col span={5}>\n                            <FormItem name=\"enabled\" label=\"启用状态\">\n                                <Select placeholder=\"请选择\">\n                                    <Option value=\"1\">开启</Option>\n                                    <Option value=\"0\">关闭</Option>\n                                </Select>\n                            </FormItem>\n                        </Col>\n                        <Col span={6}>\n                            <FormItem name=\"gmtCreate\" label=\"创建时间\" >\n                                <RangePicker />\n                            </FormItem>\n                        </Col>\n                        <Col span={24}>\n                            <Space>\n                                <Button type=\"primary\" onClick={this.search}>搜索</Button>\n                                <Button onClick={this.resetSearch}>重置 </Button>\n                            </Space>\n                        </Col>\n                    </Row>\n                </Form>\n                <span >\n                    <Space>\n                        <Button type=\"primary\" onClick={this.showAdd}>新增</Button>\n                        <Button type=\"danger\" disabled={!selectedRowKeys.length} onClick={this.deleteBatch}>批量删除</Button>\n                    </Space>\n                </span>\n                <Table\n                    rowSelection={rowSelection}\n                    columns={this.columns}\n                    rowKey=\"id\"\n                    dataSource={list}\n                    pagination={pagination}\n                    onChange={this.onTableChange}\n                    style={{ marginTop: 10 }} />\n                {\n                    modalIsVisible && <MenuModal visible={modalIsVisible} modalStatus={modalStatus} currentItem={editData} onCancel={this.handleCancel} handleOk={this.handleOk} />\n                }\n\n            </Card >\n        );\n    }\n}\n\nexport default Menu;"]},"metadata":{},"sourceType":"module"}