{"ast":null,"code":"import axios from 'axios';\nimport { message } from 'antd';\nimport storageUtil from '../utils/storageUtil';\nexport default function ajax(url, data, type) {\n  let promise;\n  return new Promise((resolve, reject) => {\n    if (type === \"GET\") {\n      promise = axios({\n        method: 'get',\n        url: url,\n        params: data,\n        headers: {\n          'authorization': storageUtil.getToken('token')\n        }\n      });\n    } else if (type === \"POST\") {\n      promise = axios({\n        method: 'post',\n        url: url,\n        data: data,\n        headers: {\n          'authorization': storageUtil.getToken('token')\n        }\n      });\n    } else if (type === \"DELETE\") {\n      promise = axios({\n        method: 'delete',\n        url: url,\n        data: data,\n        headers: {\n          'authorization': storageUtil.getToken('token')\n        }\n      });\n    } else if (type === \"PUT\") {\n      promise = axios({\n        method: 'put',\n        url: url,\n        data: data,\n        headers: {\n          'authorization': storageUtil.getToken('token')\n        }\n      });\n    } else {\n      promise = axios.post(url, data);\n    }\n\n    promise.then(response => {\n      resolve(response.data);\n    }).catch(error => {\n      reject(error);\n      message.error(\"请求出错：\" + error.msg);\n      console.log(error.msg);\n    });\n  });\n}","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/api/ajax.js"],"names":["axios","message","storageUtil","ajax","url","data","type","promise","Promise","resolve","reject","method","params","headers","getToken","post","then","response","catch","error","msg","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AAEA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,IAAzB,EAA+B;AAC1C,MAAIC,OAAJ;AAEA,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIJ,IAAI,KAAK,KAAb,EAAoB;AAChBC,MAAAA,OAAO,GAAGP,KAAK,CAAC;AACZW,QAAAA,MAAM,EAAE,KADI;AAEZP,QAAAA,GAAG,EAAEA,GAFO;AAGZQ,QAAAA,MAAM,EAAEP,IAHI;AAIZQ,QAAAA,OAAO,EAAE;AAAE,2BAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB;AAAnB;AAJG,OAAD,CAAf;AAMH,KAPD,MAOO,IAAIR,IAAI,KAAK,MAAb,EAAqB;AACxBC,MAAAA,OAAO,GAAGP,KAAK,CAAC;AACZW,QAAAA,MAAM,EAAE,MADI;AAEZP,QAAAA,GAAG,EAAEA,GAFO;AAGZC,QAAAA,IAAI,EAAEA,IAHM;AAIZQ,QAAAA,OAAO,EAAE;AAAE,2BAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB;AAAnB;AAJG,OAAD,CAAf;AAMH,KAPM,MAOA,IAAIR,IAAI,KAAK,QAAb,EAAuB;AAC1BC,MAAAA,OAAO,GAAGP,KAAK,CAAC;AACZW,QAAAA,MAAM,EAAE,QADI;AAEZP,QAAAA,GAAG,EAAEA,GAFO;AAGZC,QAAAA,IAAI,EAAEA,IAHM;AAIZQ,QAAAA,OAAO,EAAE;AAAE,2BAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB;AAAnB;AAJG,OAAD,CAAf;AAMH,KAPM,MAOA,IAAIR,IAAI,KAAK,KAAb,EAAoB;AACvBC,MAAAA,OAAO,GAAGP,KAAK,CAAC;AACZW,QAAAA,MAAM,EAAE,KADI;AAEZP,QAAAA,GAAG,EAAEA,GAFO;AAGZC,QAAAA,IAAI,EAAEA,IAHM;AAIZQ,QAAAA,OAAO,EAAE;AAAE,2BAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB;AAAnB;AAJG,OAAD,CAAf;AAMH,KAPM,MAOA;AACHP,MAAAA,OAAO,GAAGP,KAAK,CAACe,IAAN,CAAWX,GAAX,EAAgBC,IAAhB,CAAV;AACH;;AAEDE,IAAAA,OAAO,CAACS,IAAR,CAAaC,QAAQ,IAAI;AACrBR,MAAAA,OAAO,CAACQ,QAAQ,CAACZ,IAAV,CAAP;AACH,KAFD,EAEGa,KAFH,CAESC,KAAK,IAAI;AACdT,MAAAA,MAAM,CAACS,KAAD,CAAN;AACAlB,MAAAA,OAAO,CAACkB,KAAR,CAAc,UAAUA,KAAK,CAACC,GAA9B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,GAAlB;AACH,KAND;AAOH,GAxCM,CAAP;AA0CH","sourcesContent":["import axios from 'axios'\nimport { message } from 'antd';\nimport storageUtil from '../utils/storageUtil'\n\nexport default function ajax(url, data, type) {\n    let promise;\n\n    return new Promise((resolve, reject) => {\n        if (type === \"GET\") {\n            promise = axios({\n                method: 'get',\n                url: url,\n                params: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"POST\") {\n            promise = axios({\n                method: 'post',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"DELETE\") {\n            promise = axios({\n                method: 'delete',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"PUT\") {\n            promise = axios({\n                method: 'put',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else {\n            promise = axios.post(url, data)\n        }\n\n        promise.then(response => {\n            resolve(response.data)\n        }).catch(error => {\n            reject(error);\n            message.error(\"请求出错：\" + error.msg);\n            console.log(error.msg)\n        })\n    })\n\n}"]},"metadata":{},"sourceType":"module"}