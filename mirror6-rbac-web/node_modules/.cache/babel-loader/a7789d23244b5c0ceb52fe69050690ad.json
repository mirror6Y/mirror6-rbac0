{"ast":null,"code":"import axios from'axios';import{message}from'antd';import storageUtil from'../utils/storageUtil';export default function ajax(url,data,type){var promise;return new Promise(function(resolve,reject){if(type===\"GET\"){promise=axios({method:'get',url:url,params:data,headers:{'authorization':storageUtil.getToken('token')}});}else if(type===\"POST\"){promise=axios({method:'post',url:url,data:data,headers:{'authorization':storageUtil.getToken('token')}});}else if(type===\"DELETE\"){promise=axios({method:'delete',url:url,data:data,headers:{'authorization':storageUtil.getToken('token')}});}else if(type===\"PUT\"){promise=axios({method:'put',url:url,data:data,headers:{'authorization':storageUtil.getToken('token')}});}else{promise=axios.post(url,data);}promise.then(function(response){resolve(response.data);}).catch(function(error){reject(error);message.error(\"请求出错：\"+error.msg);console.log(error.msg);});});}","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/api/ajax.js"],"names":["axios","message","storageUtil","ajax","url","data","type","promise","Promise","resolve","reject","method","params","headers","getToken","post","then","response","catch","error","msg","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,MAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CAEA,cAAe,SAASC,CAAAA,IAAT,CAAcC,GAAd,CAAmBC,IAAnB,CAAyBC,IAAzB,CAA+B,CAC1C,GAAIC,CAAAA,OAAJ,CAEA,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACpC,GAAIJ,IAAI,GAAK,KAAb,CAAoB,CAChBC,OAAO,CAAGP,KAAK,CAAC,CACZW,MAAM,CAAE,KADI,CAEZP,GAAG,CAAEA,GAFO,CAGZQ,MAAM,CAAEP,IAHI,CAIZQ,OAAO,CAAE,CAAE,gBAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB,CAAnB,CAJG,CAAD,CAAf,CAMH,CAPD,IAOO,IAAIR,IAAI,GAAK,MAAb,CAAqB,CACxBC,OAAO,CAAGP,KAAK,CAAC,CACZW,MAAM,CAAE,MADI,CAEZP,GAAG,CAAEA,GAFO,CAGZC,IAAI,CAAEA,IAHM,CAIZQ,OAAO,CAAE,CAAE,gBAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB,CAAnB,CAJG,CAAD,CAAf,CAMH,CAPM,IAOA,IAAIR,IAAI,GAAK,QAAb,CAAuB,CAC1BC,OAAO,CAAGP,KAAK,CAAC,CACZW,MAAM,CAAE,QADI,CAEZP,GAAG,CAAEA,GAFO,CAGZC,IAAI,CAAEA,IAHM,CAIZQ,OAAO,CAAE,CAAE,gBAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB,CAAnB,CAJG,CAAD,CAAf,CAMH,CAPM,IAOA,IAAIR,IAAI,GAAK,KAAb,CAAoB,CACvBC,OAAO,CAAGP,KAAK,CAAC,CACZW,MAAM,CAAE,KADI,CAEZP,GAAG,CAAEA,GAFO,CAGZC,IAAI,CAAEA,IAHM,CAIZQ,OAAO,CAAE,CAAE,gBAAiBX,WAAW,CAACY,QAAZ,CAAqB,OAArB,CAAnB,CAJG,CAAD,CAAf,CAMH,CAPM,IAOA,CACHP,OAAO,CAAGP,KAAK,CAACe,IAAN,CAAWX,GAAX,CAAgBC,IAAhB,CAAV,CACH,CAEDE,OAAO,CAACS,IAAR,CAAa,SAAAC,QAAQ,CAAI,CACrBR,OAAO,CAACQ,QAAQ,CAACZ,IAAV,CAAP,CACH,CAFD,EAEGa,KAFH,CAES,SAAAC,KAAK,CAAI,CACdT,MAAM,CAACS,KAAD,CAAN,CACAlB,OAAO,CAACkB,KAAR,CAAc,QAAUA,KAAK,CAACC,GAA9B,EACAC,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACC,GAAlB,EACH,CAND,EAOH,CAxCM,CAAP,CA0CH","sourcesContent":["import axios from 'axios'\nimport { message } from 'antd';\nimport storageUtil from '../utils/storageUtil'\n\nexport default function ajax(url, data, type) {\n    let promise;\n\n    return new Promise((resolve, reject) => {\n        if (type === \"GET\") {\n            promise = axios({\n                method: 'get',\n                url: url,\n                params: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"POST\") {\n            promise = axios({\n                method: 'post',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"DELETE\") {\n            promise = axios({\n                method: 'delete',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else if (type === \"PUT\") {\n            promise = axios({\n                method: 'put',\n                url: url,\n                data: data,\n                headers: { 'authorization': storageUtil.getToken('token') }\n            })\n        } else {\n            promise = axios.post(url, data)\n        }\n\n        promise.then(response => {\n            resolve(response.data)\n        }).catch(error => {\n            reject(error);\n            message.error(\"请求出错：\" + error.msg);\n            console.log(error.msg)\n        })\n    })\n\n}"]},"metadata":{},"sourceType":"module"}