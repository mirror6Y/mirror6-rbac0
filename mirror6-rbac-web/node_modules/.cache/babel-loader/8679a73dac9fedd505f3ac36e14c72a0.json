{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Card,Button,Table}from'antd';import{reqRoleList}from'../../../api/api.js';import RoleAdd from'../role/roleAdd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Role=/*#__PURE__*/function(_Component){_inherits(Role,_Component);var _super=_createSuper(Role);function Role(){var _this;_classCallCheck(this,Role);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={roleList:[],// 0 不显示添加和修改组件 1 显示添加 2显示修改\nshowStatus:0};_this.initColumn=function(){_this.columns=[{title:'角色名称',dataIndex:'name'},{title:'描述信息',dataIndex:'description'},{title:'排序码',dataIndex:'sort'},{title:'启用状态',dataIndex:'enabled'},{title:'创建时间',dataIndex:'gmtCreate'}];};_this.getRoleList=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return reqRoleList();case 2:result=_context.sent;if(result.code===200){data=result.data.records;_this.setState({roleList:data});}case 4:case\"end\":return _context.stop();}}},_callee);}));_this.toggleVisible=function(status){_this.setState({showStatus:status});};return _this;}_createClass(Role,[{key:\"componentWillMount\",value:function componentWillMount(){this.initColumn();}},{key:\"componentDidMount\",value:function componentDidMount(){this.getRoleList();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,roleList=_this$state.roleList,showStatus=_this$state.showStatus;var title=/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return _this2.toggleVisible(1);},children:\"\\u65B0\\u589E\"})});return/*#__PURE__*/_jsxs(Card,{title:title,children:[/*#__PURE__*/_jsx(Table,{rowKey:\"id\",rowSelection:{type:\"checkout\"},columns:this.columns,dataSource:roleList}),/*#__PURE__*/_jsx(RoleAdd,{visible:showStatus,toggleVisible:this.toggleVisible,onRefresh:this.getRoleList})]});}}]);return Role;}(Component);export default Role;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/role/role.jsx"],"names":["React","Component","Card","Button","Table","reqRoleList","RoleAdd","Role","state","roleList","showStatus","initColumn","columns","title","dataIndex","getRoleList","result","code","data","records","setState","toggleVisible","status","type"],"mappings":"mhCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,KAAoC,MAApC,CAEA,OAASC,WAAT,KAA4B,qBAA5B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,C,2FAEMC,CAAAA,I,mTAEFC,K,CAAQ,CACJC,QAAQ,CAAE,EADN,CAEJ;AACAC,UAAU,CAAE,CAHR,C,OAMRC,U,CAAa,UAAM,CACf,MAAKC,OAAL,CAAe,CACX,CACIC,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,MAFf,CADW,CAKX,CACID,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,aAFf,CALW,CASX,CACID,KAAK,CAAE,KADX,CAEIC,SAAS,CAAE,MAFf,CATW,CAaX,CACID,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,SAFf,CAbW,CAiBX,CACID,KAAK,CAAE,MADX,CAEIC,SAAS,CAAE,WAFf,CAjBW,CAAf,CAsBH,C,OAEDC,W,sEAAc,yKACWV,CAAAA,WAAW,EADtB,QACJW,MADI,eAEV,GAAIA,MAAM,CAACC,IAAP,GAAgB,GAApB,CAAyB,CACfC,IADe,CACRF,MAAM,CAACE,IAAP,CAAYC,OADJ,CAErB,MAAKC,QAAL,CAAc,CAAEX,QAAQ,CAAES,IAAZ,CAAd,EACH,CALS,sD,SASdG,a,CAAgB,SAACC,MAAD,CAAY,CACxB,MAAKF,QAAL,CAAc,CACVV,UAAU,CAAEY,MADF,CAAd,EAGH,C,kEAED,6BAAqB,CACjB,KAAKX,UAAL,GACH,C,iCAED,4BAAoB,CAChB,KAAKI,WAAL,GACH,C,sBAED,iBAAS,iCAE4B,KAAKP,KAFjC,CAEGC,QAFH,aAEGA,QAFH,CAEaC,UAFb,aAEaA,UAFb,CAGL,GAAMG,CAAAA,KAAK,cACP,mCACI,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,OAAO,CAAE,yBAAK,CAAA,MAAI,CAACQ,aAAL,CAAmB,CAAnB,CAAL,EAAhC,0BADJ,EADJ,CAMA,mBACI,MAAC,IAAD,EAAM,KAAK,CAAER,KAAb,wBACI,KAAC,KAAD,EACI,MAAM,CAAC,IADX,CAEI,YAAY,CAAE,CAAEU,IAAI,CAAE,UAAR,CAFlB,CAGI,OAAO,CAAE,KAAKX,OAHlB,CAII,UAAU,CAAEH,QAJhB,EADJ,cAMI,KAAC,OAAD,EAAS,OAAO,CAAEC,UAAlB,CAA8B,aAAa,CAAE,KAAKW,aAAlD,CAAiE,SAAS,CAAE,KAAKN,WAAjF,EANJ,GADJ,CAUH,C,kBA3Ecd,S,EA8EnB,cAAeM,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Card, Button, Table } from 'antd'\n\nimport { reqRoleList } from '../../../api/api.js'\n\nimport RoleAdd from '../role/roleAdd'\n\nclass Role extends Component {\n\n    state = {\n        roleList: [],\n        // 0 不显示添加和修改组件 1 显示添加 2显示修改\n        showStatus: 0,\n    }\n\n    initColumn = () => {\n        this.columns = [\n            {\n                title: '角色名称',\n                dataIndex: 'name',\n            },\n            {\n                title: '描述信息',\n                dataIndex: 'description',\n            },\n            {\n                title: '排序码',\n                dataIndex: 'sort',\n            },\n            {\n                title: '启用状态',\n                dataIndex: 'enabled',\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'gmtCreate',\n            }\n        ]\n    }\n\n    getRoleList = async () => {\n        const result = await reqRoleList();\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ roleList: data })\n        }\n    }\n\n    //显示添加组件\n    toggleVisible = (status) => {\n        this.setState({\n            showStatus: status\n        })\n    }\n\n    componentWillMount() {\n        this.initColumn();\n    }\n\n    componentDidMount() {\n        this.getRoleList();\n    }\n\n    render() {\n\n        const { roleList, showStatus } = this.state;\n        const title = (\n            <span>\n                <Button type=\"primary\" onClick={() =>this.toggleVisible(1)}>新增</Button>\n            </span>\n        )\n\n        return (\n            <Card title={title}>\n                <Table\n                    rowKey=\"id\"\n                    rowSelection={{ type: \"checkout\" }}\n                    columns={this.columns}\n                    dataSource={roleList} />\n                <RoleAdd visible={showStatus} toggleVisible={this.toggleVisible} onRefresh={this.getRoleList} />\n            </Card>\n        );\n    }\n}\n\nexport default Role;"]},"metadata":{},"sourceType":"module"}