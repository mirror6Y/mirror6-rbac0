{"ast":null,"code":"var _jsxFileName = \"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/menu/menu.jsx\";\nimport React, { Component } from 'react';\nimport { Card, Button, Table, Modal, notification, Space, Switch, Form, Row, Col, Select, Input, DatePicker } from 'antd';\nimport { QuestionCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport { formatDate, parseDate } from '../../../utils/dateUtil'; // import LinkButton from '../../../components/button'\n\nimport { reqMenuList, reqMenuAdd, reqMenuDelete, reqMenuEdit } from '../../../api/api.js';\nimport MenuModal from './menuModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst {\n  RangePicker\n} = DatePicker;\n\nclass Menu extends Component {\n  constructor() {\n    super();\n    this.formRef = /*#__PURE__*/React.createRef();\n\n    this.initColumn = () => {\n      this.columns = [{\n        title: '序号',\n        render: (text, record, index) => {\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: (this.state.pagination.current - 1) * this.state.pagination.pageSize + (index + 1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this);\n        }\n      }, {\n        title: '菜单名称',\n        dataIndex: 'title'\n      }, {\n        title: '描述信息',\n        dataIndex: 'description'\n      }, {\n        title: 'url',\n        dataIndex: 'url'\n      }, {\n        title: '图标',\n        dataIndex: 'iocnPath'\n      }, {\n        title: '是否启用',\n        dataIndex: 'enabled',\n        render: (text, record, index) => /*#__PURE__*/_jsxDEV(Switch, {\n          checkedChildren: \"\\u5F00\\u542F\",\n          unCheckedChildren: \"\\u5173\\u95ED\",\n          checked: text === 0 ? 0 : 1,\n          defaultChecked: true,\n          onChange: () => this.onChange(text, record)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, {\n        title: '创建时间',\n        dataIndex: 'gmtCreate',\n        render: value => {\n          return formatDate(value);\n        }\n      }, {\n        title: '操作',\n        render: obj => /*#__PURE__*/_jsxDEV(\"span\", {\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.showEdit(obj),\n              children: \"\\u7F16\\u8F91\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"danger\",\n              onClick: () => this.deleteMenu(obj.id),\n              children: \"\\u5220\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }];\n    };\n\n    this.getMenuList = async (current = 1, pageSize = 10) => {\n      const {\n        pagination\n      } = this.state;\n      const data = this.formRef.current.getFieldsValue();\n      data.pageNum = current;\n      data.pageSize = pageSize;\n      const result = await reqMenuList(data);\n\n      if (result.code === 200) {\n        const data = result.data.records;\n        this.setState({\n          list: data,\n          pagination: { ...pagination,\n            total: result.data.total,\n            current: current,\n            pageSize: pageSize\n          }\n        });\n      }\n    };\n\n    this.search = async () => {\n      const data = this.formRef.current.getFieldsValue();\n\n      if (data.gmtCreate) {\n        data.gmtCreate = parseDate(data.gmtCreate[0]._d) + \"&\" + parseDate(data.gmtCreate[1]._d);\n      }\n\n      const result = await reqMenuList(data);\n\n      if (result.code === 200) {\n        const data = result.data.records;\n        this.setState({\n          list: data\n        });\n      }\n    };\n\n    this.onTableChange = async page => {\n      await this.setState({\n        pagination: page\n      });\n      this.getMenuList(page.current, page.pageSize);\n    };\n\n    this.onChange = async (text, record) => {\n      Modal.confirm({\n        title: '提示',\n        okText: '确定',\n        cancelText: '取消',\n        icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }, this),\n        content: '您确定修改启用状态吗？',\n        onOk: async () => {\n          if (record.enabled === 0) {\n            record.enabled = 1;\n          } else {\n            record.enabled = 0;\n          }\n\n          const result = await reqMenuEdit(record);\n\n          if (result.code === 200) {\n            notification.success({\n              duration: 2,\n              message: '提示',\n              description: result.msg\n            });\n            this.getMenuList();\n          } else {\n            notification.error({\n              duration: null,\n              message: '提示',\n              description: result.msg\n            });\n          }\n        }\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        modalIsVisible: false\n      });\n    };\n\n    this.showAdd = () => {\n      console.log(this.state);\n      this.setState({\n        modalStatus: 'add',\n        modalIsVisible: true\n      });\n    };\n\n    this.showEdit = async data => {\n      this.setState({\n        modalStatus: 'edit',\n        modalIsVisible: true\n      });\n      this.editData = data;\n      console.log(this.editData + \"123\");\n    };\n\n    this.handleOk = params => {\n      var status = this.state.modalStatus;\n      console.log(params, status);\n\n      if (\"add\" == status) {\n        this.addMenu(params);\n      } else {\n        this.editMenu(params);\n      }\n    };\n\n    this.addMenu = async data => {\n      const result = await reqMenuAdd(data);\n\n      if (result.code === 200) {\n        this.setState({\n          modalIsVisible: false\n        });\n        notification.success({\n          duration: 2,\n          message: '提示',\n          description: result.msg\n        });\n        this.getMenuList();\n      } else {\n        notification.error({\n          duration: null,\n          message: '提示',\n          description: result.msg\n        });\n      }\n    };\n\n    this.handleEdit = () => {\n      const ref = this.editChild.current.editRef.current;\n      ref.validateFields().then(values => {\n        this.editMenu(values);\n        this.setState({\n          modalIsVisible: false\n        });\n      }).catch(errorInfo => {\n        console.log(errorInfo);\n      });\n    };\n\n    this.editMenu = async data => {\n      const result = await reqMenuEdit(data);\n\n      if (result.code === 200) {\n        this.setState({\n          modalIsVisible: false\n        });\n        notification.success({\n          duration: 2,\n          message: '提示',\n          description: result.msg\n        });\n        this.getMenuList();\n      } else {\n        notification.error({\n          duration: null,\n          message: '提示',\n          description: result.msg\n        });\n      }\n    };\n\n    this.deleteMenu = index => {\n      Modal.confirm({\n        title: '提示',\n        okText: '确定',\n        cancelText: '取消',\n        icon: /*#__PURE__*/_jsxDEV(QuestionCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 19\n        }, this),\n        content: '您确定删除此条内容吗？',\n        onOk: async () => {\n          var ids = new Array();\n          ids[0] = index;\n          const result = await reqMenuDelete(ids);\n\n          if (result.code === 200) {\n            notification.success({\n              duration: 2,\n              message: '提示',\n              description: result.msg\n            });\n            this.getMenuList();\n          } else {\n            notification.error({\n              duration: null,\n              message: '提示',\n              description: result.msg\n            });\n          }\n        }\n      });\n    };\n\n    this.deleteBatch = () => {\n      Modal.confirm({\n        title: '提示',\n        okText: '确定',\n        cancelText: '取消',\n        icon: /*#__PURE__*/_jsxDEV(QuestionCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 19\n        }, this),\n        content: `您确定删除${this.state.selectedRowKeys.length}项吗？`,\n        onOk: async () => {\n          const ids = this.state.selectedRowKeys;\n          console.log(\"123\" + ids);\n          const result = await reqMenuDelete(ids);\n\n          if (result.code === 200) {\n            notification.success({\n              duration: 2,\n              message: '提示',\n              description: result.msg\n            });\n            this.setState({\n              selectedRowKeys: []\n            });\n            this.getMenuList();\n          } else {\n            notification.error({\n              duration: null,\n              message: '提示',\n              description: result.msg\n            });\n          }\n        }\n      });\n    };\n\n    this.resetSearch = async () => {\n      this.formRef.current.resetFields();\n      const result = await reqMenuList({\n        pageNum: 1,\n        pageSize: 10\n      });\n\n      if (result.code === 200) {\n        const data = result.data.records;\n        this.setState({\n          list: data\n        });\n      }\n    };\n\n    this.state = {\n      list: [],\n      selectedRowKeys: [],\n      // 0 不显示添加和修改组件 1 显示添加 2显示修改\n      pagination: {\n        total: 0,\n        current: 1,\n        pageSize: 15,\n        pageSizeOptions: [15, 30, 50, 100],\n        showQuickJumper: true,\n        showSizeChanger: true\n      },\n      modalStatus: 'add',\n      modalIsVisible: false\n    };\n  }\n\n  componentWillMount() {\n    this.initColumn();\n  }\n\n  componentDidMount() {\n    this.getMenuList();\n  }\n\n  render() {\n    const editData = this.editData;\n    const {\n      list,\n      selectedRowKeys,\n      pagination,\n      modalIsVisible,\n      modalStatus\n    } = this.state;\n    const rowSelection = {\n      selectedRowKeys: selectedRowKeys,\n      onChange: selectedRowKeys => this.setState({\n        selectedRowKeys\n      })\n    };\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        ref: this.formRef,\n        style: {\n          marginBottom: 16\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 24,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 5,\n            children: /*#__PURE__*/_jsxDEV(FormItem, {\n              name: \"title\",\n              label: \"\\u6807\\u9898\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u6807\\u9898\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 5,\n            children: /*#__PURE__*/_jsxDEV(FormItem, {\n              name: \"description\",\n              label: \"\\u63CF\\u8FF0\\u4FE1\\u606F\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u63CF\\u8FF0\\u4FE1\\u606F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 5,\n            children: /*#__PURE__*/_jsxDEV(FormItem, {\n              name: \"enabled\",\n              label: \"\\u542F\\u7528\\u72B6\\u6001\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                placeholder: \"\\u8BF7\\u9009\\u62E9\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"1\",\n                  children: \"\\u5F00\\u542F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"0\",\n                  children: \"\\u5173\\u95ED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 6,\n            children: /*#__PURE__*/_jsxDEV(FormItem, {\n              name: \"gmtCreate\",\n              label: \"\\u521B\\u5EFA\\u65F6\\u95F4\",\n              children: /*#__PURE__*/_jsxDEV(RangePicker, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                onClick: this.search,\n                children: \"\\u641C\\u7D22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 392,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: this.resetSearch,\n                children: \"\\u91CD\\u7F6E \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            onClick: this.showAdd,\n            children: \"\\u65B0\\u589E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"danger\",\n            disabled: !selectedRowKeys.length,\n            onClick: this.deleteBatch,\n            children: \"\\u6279\\u91CF\\u5220\\u9664\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        rowSelection: rowSelection,\n        columns: this.columns,\n        rowKey: \"id\",\n        dataSource: list,\n        pagination: pagination,\n        onChange: this.onTableChange,\n        style: {\n          marginTop: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this), modalIsVisible && /*#__PURE__*/_jsxDEV(MenuModal, {\n        visible: modalIsVisible,\n        modalStatus: modalStatus,\n        currentItem: editData,\n        onCancel: this.handleCancel,\n        handleOk: this.handleOk\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Menu;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/menu/menu.jsx"],"names":["React","Component","Card","Button","Table","Modal","notification","Space","Switch","Form","Row","Col","Select","Input","DatePicker","QuestionCircleOutlined","ExclamationCircleOutlined","formatDate","parseDate","reqMenuList","reqMenuAdd","reqMenuDelete","reqMenuEdit","MenuModal","FormItem","Item","Option","RangePicker","Menu","constructor","formRef","createRef","initColumn","columns","title","render","text","record","index","state","pagination","current","pageSize","dataIndex","onChange","value","obj","showEdit","deleteMenu","id","getMenuList","data","getFieldsValue","pageNum","result","code","records","setState","list","total","search","gmtCreate","_d","onTableChange","page","confirm","okText","cancelText","icon","content","onOk","enabled","success","duration","message","description","msg","error","handleCancel","modalIsVisible","showAdd","console","log","modalStatus","editData","handleOk","params","status","addMenu","editMenu","handleEdit","ref","editChild","editRef","validateFields","then","values","catch","errorInfo","ids","Array","deleteBatch","selectedRowKeys","length","resetSearch","resetFields","pageSizeOptions","showQuickJumper","showSizeChanger","componentWillMount","componentDidMount","rowSelection","marginBottom","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Card, Button, Table, Modal, notification, Space, Switch, Form, Row, Col, Select, Input, DatePicker } from 'antd'\nimport { QuestionCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\n\nimport { formatDate, parseDate } from '../../../utils/dateUtil'\n// import LinkButton from '../../../components/button'\nimport { reqMenuList, reqMenuAdd, reqMenuDelete, reqMenuEdit } from '../../../api/api.js'\nimport MenuModal from './menuModal'\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst { RangePicker } = DatePicker;\nclass Menu extends Component {\n\n    formRef = React.createRef();\n\n    constructor() {\n        super()\n        this.state = {\n            list: [],\n            selectedRowKeys: [],\n            // 0 不显示添加和修改组件 1 显示添加 2显示修改\n            pagination: {\n                total: 0,\n                current: 1,\n                pageSize: 15,\n                pageSizeOptions: [15, 30, 50, 100],\n                showQuickJumper: true,\n                showSizeChanger: true\n            },\n            modalStatus: 'add',\n            modalIsVisible: false\n        }\n    }\n\n    initColumn = () => {\n        this.columns = [\n            {\n                title: '序号',\n                render: (text, record, index) => {\n                    return (\n                        <span>{(this.state.pagination.current - 1) * this.state.pagination.pageSize + (index + 1)}</span>\n                    )\n                }\n            },\n            {\n                title: '菜单名称',\n                dataIndex: 'title',\n            },\n            {\n                title: '描述信息',\n                dataIndex: 'description',\n            },\n            {\n                title: 'url',\n                dataIndex: 'url',\n            },\n            {\n                title: '图标',\n                dataIndex: 'iocnPath'\n            },\n            {\n                title: '是否启用',\n                dataIndex: 'enabled',\n                render: (text, record, index) => (\n                    <Switch checkedChildren=\"开启\" unCheckedChildren=\"关闭\" checked={text === 0 ? 0 : 1} defaultChecked onChange={() => this.onChange(text, record)} />\n                )\n            },\n            {\n                title: '创建时间',\n                dataIndex: 'gmtCreate',\n                render: (value) => {\n                    return formatDate(value);\n                }\n            },\n            {\n                title: '操作',\n                render: (obj) => (\n                    <span>\n                        <Space>\n                            <Button onClick={() => this.showEdit(obj)}>编辑</Button>\n                            <Button type='danger' onClick={() => this.deleteMenu(obj.id)}>删除</Button>\n                        </Space>\n                    </span>\n                )\n            }\n        ]\n    }\n\n    getMenuList = async (current = 1, pageSize = 10) => {\n        const { pagination } = this.state;\n\n        const data = this.formRef.current.getFieldsValue();\n        data.pageNum = current;\n        data.pageSize = pageSize;\n\n        const result = await reqMenuList(data);\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({\n                list: data,\n                pagination: {\n                    ...pagination,\n                    total: result.data.total,\n                    current: current,\n                    pageSize: pageSize\n                }\n            })\n        }\n    }\n\n    //列表搜索\n    search = async () => {\n        const data = this.formRef.current.getFieldsValue();\n        if (data.gmtCreate) {\n            data.gmtCreate = parseDate(data.gmtCreate[0]._d) + \"&\" + parseDate(data.gmtCreate[1]._d)\n        }\n        const result = await reqMenuList(data);\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ list: data })\n        }\n    }\n\n\n    //table分页\n    onTableChange = async (page) => {\n        await this.setState({\n            pagination: page\n        })\n        this.getMenuList(page.current, page.pageSize);\n    }\n\n    //修改启用状态\n    onChange = async (text, record) => {\n\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <ExclamationCircleOutlined />,\n            content: '您确定修改启用状态吗？',\n            onOk: async () => {\n                if (record.enabled === 0) {\n                    record.enabled = 1\n                } else {\n                    record.enabled = 0\n                }\n                const result = await reqMenuEdit(record);\n                if (result.code === 200) {\n\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    handleCancel = () => {\n        this.setState({\n            modalIsVisible: false\n        })\n    }\n\n    //显示添加组件\n    showAdd = () => {\n        console.log(this.state);\n\n        this.setState({\n            modalStatus: 'add',\n            modalIsVisible: true\n        })\n    }\n\n    //显示编辑组件\n    showEdit = async (data) => {\n\n        this.setState({\n            modalStatus: 'edit',\n            modalIsVisible: true\n        })\n\n        this.editData = data;\n        console.log(this.editData + \"123\")\n    }\n\n    //添加验证\n    handleOk = (params) => {\n        var status = this.state.modalStatus;\n        console.log(params, status)\n        if (\"add\" == status) {\n            this.addMenu(params);\n        } else {\n            this.editMenu(params);\n        }\n    }\n\n    //添加方法\n    addMenu = async (data) => {\n        const result = await reqMenuAdd(data);\n        if (result.code === 200) {\n            this.setState({\n                modalIsVisible: false\n            })\n            notification.success({\n                duration: 2,\n                message: '提示',\n                description: result.msg\n            });\n            this.getMenuList();\n        } else {\n            notification.error({\n                duration: null,\n                message: '提示',\n                description: result.msg\n            })\n        }\n    }\n\n    //编辑验证\n    handleEdit = () => {\n        const ref = this.editChild.current.editRef.current;\n        ref.validateFields()\n            .then(values => {\n                this.editMenu(values);\n                this.setState({ modalIsVisible: false });\n            })\n            .catch(errorInfo => {\n                console.log(errorInfo)\n            });\n    }\n\n    //编辑信息\n    editMenu = async (data) => {\n        const result = await reqMenuEdit(data);\n        if (result.code === 200) {\n            this.setState({\n                modalIsVisible: false\n            })\n            notification.success({\n                duration: 2,\n                message: '提示',\n                description: result.msg\n            });\n            this.getMenuList();\n        } else {\n            notification.error({\n                duration: null,\n                message: '提示',\n                description: result.msg\n            })\n        }\n    }\n\n    //删除信息\n    deleteMenu = (index) => {\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <QuestionCircleOutlined />,\n            content: '您确定删除此条内容吗？',\n            onOk: async () => {\n                var ids = new Array();\n                ids[0] = index;\n\n                const result = await reqMenuDelete(ids);\n                if (result.code === 200) {\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    deleteBatch = () => {\n        Modal.confirm({\n            title: '提示',\n            okText: '确定',\n            cancelText: '取消',\n            icon: <QuestionCircleOutlined />,\n            content: `您确定删除${this.state.selectedRowKeys.length}项吗？`,\n            onOk: async () => {\n\n                const ids = this.state.selectedRowKeys;\n                console.log(\"123\" + ids)\n                const result = await reqMenuDelete(ids);\n                if (result.code === 200) {\n                    notification.success({\n                        duration: 2,\n                        message: '提示',\n                        description: result.msg\n                    });\n                    this.setState({\n                        selectedRowKeys: []\n                    });\n                    this.getMenuList();\n\n                } else {\n                    notification.error({\n                        duration: null,\n                        message: '提示',\n                        description: result.msg\n                    })\n                }\n\n            }\n        })\n    }\n\n    componentWillMount() {\n        this.initColumn();\n    }\n\n    componentDidMount() {\n        this.getMenuList();\n    }\n    resetSearch = async () => {\n        this.formRef.current.resetFields()\n        const result = await reqMenuList({ pageNum: 1, pageSize: 10 });\n        if (result.code === 200) {\n            const data = result.data.records;\n            this.setState({ list: data })\n        }\n    }\n    render() {\n\n        const editData = this.editData;\n        const { list, selectedRowKeys, pagination, modalIsVisible, modalStatus } = this.state;\n\n        const rowSelection = {\n            selectedRowKeys: selectedRowKeys,\n            onChange: (selectedRowKeys) => this.setState({ selectedRowKeys })\n        }\n\n        return (\n            <Card>\n                <Form\n                    ref={this.formRef}\n                    style={{ marginBottom: 16 }}\n                >\n                    <Row gutter={24}>\n                        <Col span={5}>\n                            <FormItem name=\"title\" label=\"标题\">\n                                <Input placeholder=\"请输入标题\" />\n                            </FormItem>\n                        </Col>\n                        <Col span={5}>\n                            <FormItem name=\"description\" label=\"描述信息\" >\n                                <Input placeholder=\"请输入描述信息\" />\n                            </FormItem>\n                        </Col>\n                        <Col span={5}>\n                            <FormItem name=\"enabled\" label=\"启用状态\">\n                                <Select placeholder=\"请选择\">\n                                    <Option value=\"1\">开启</Option>\n                                    <Option value=\"0\">关闭</Option>\n                                </Select>\n                            </FormItem>\n                        </Col>\n                        <Col span={6}>\n                            <FormItem name=\"gmtCreate\" label=\"创建时间\" >\n                                <RangePicker />\n                            </FormItem>\n                        </Col>\n                        <Col span={24}>\n                            <Space>\n                                <Button type=\"primary\" onClick={this.search}>搜索</Button>\n                                <Button onClick={this.resetSearch}>重置 </Button>\n                            </Space>\n                        </Col>\n                    </Row>\n                </Form>\n                <span >\n                    <Space>\n                        <Button type=\"primary\" onClick={this.showAdd}>新增</Button>\n                        <Button type=\"danger\" disabled={!selectedRowKeys.length} onClick={this.deleteBatch}>批量删除</Button>\n                    </Space>\n                </span>\n                <Table\n                    rowSelection={rowSelection}\n                    columns={this.columns}\n                    rowKey=\"id\"\n                    dataSource={list}\n                    pagination={pagination}\n                    onChange={this.onTableChange}\n                    style={{ marginTop: 10 }} />\n                {\n                    modalIsVisible && <MenuModal visible={modalIsVisible} modalStatus={modalStatus} currentItem={editData} onCancel={this.handleCancel} handleOk={this.handleOk} />\n                }\n\n            </Card >\n        );\n    }\n}\n\nexport default Menu;"]},"metadata":{},"sourceType":"module"}