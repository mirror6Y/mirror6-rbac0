{"ast":null,"code":"import _objectSpread from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,Input,Radio,TreeSelect}from'antd';import{reqRoleList}from'../../../api/api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormItem=Form.Item;var UserAdd=/*#__PURE__*/function(_Component){_inherits(UserAdd,_Component);var _super=_createSuper(UserAdd);function UserAdd(){var _this;_classCallCheck(this,UserAdd);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.addRef=/*#__PURE__*/React.createRef();_this.state={treeData:[]};_this.getTreeData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return reqRoleList();case 2:result=_context.sent;console.log(\"1:\"+result);if(result.code===200){data=result.data;// if (null != data && undefined != data) {\n_this.setState({treeData:data});// }\n}case 5:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(UserAdd,[{key:\"componentDidMount\",value:function componentDidMount(){this.getTreeData();}},{key:\"render\",value:function render(){var formItemLayout={labelCol:{span:6},wrapperCol:{span:14}};var treeData=this.state.treeData;return/*#__PURE__*/_jsxs(Form,_objectSpread(_objectSpread({},formItemLayout),{},{ref:this.addRef,children:[/*#__PURE__*/_jsx(FormItem,{name:\"account\",label:\"\\u8D26\\u53F7\",rules:[{required:true,message:'请输入账号'},{pattern:new RegExp(/^[0-9]\\d*$/,\"g\"),message:'账号由数字组成'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\"})}),/*#__PURE__*/_jsx(FormItem,{name:\"name\",label:\"\\u59D3\\u540D\",rules:[{required:true,message:'请输入姓名'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\"})}),/*#__PURE__*/_jsx(FormItem,{name:\"gender\",label:\"\\u6027\\u522B\",children:/*#__PURE__*/_jsxs(Radio.Group,{children:[/*#__PURE__*/_jsx(Radio,{value:\"1\",children:\"\\u7537\"}),/*#__PURE__*/_jsx(Radio,{value:\"0\",children:\"\\u5973\"})]})}),/*#__PURE__*/_jsx(FormItem,{name:\"tel\",label:\"\\u624B\\u673A\\u53F7\\u7801\",children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"})}),/*#__PURE__*/_jsx(FormItem,{name:\"email\",label:\"\\u7535\\u5B50\\u90AE\\u7BB1\",rules:[{type:'email',message:'请输入正确的邮箱'}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u7535\\u5B50\\u90AE\\u7BB1\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"roleIds\",label:\"\\u89D2\\u8272\",rules:[{required:true}],children:/*#__PURE__*/_jsx(TreeSelect,{allowClear:\"true\",treeCheckable:\"true\",treeData:treeData,placeholder:\"\\u8BF7\\u9009\\u62E9\\u89D2\\u8272\",treeDefaultExpandAll:true,showCheckedStrategy:\"SHOW_PARENT\"})})]}));}}]);return UserAdd;}(Component);export default UserAdd;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/user/userAdd.jsx"],"names":["React","Component","Form","Input","Radio","TreeSelect","reqRoleList","FormItem","Item","UserAdd","addRef","createRef","state","treeData","getTreeData","result","console","log","code","data","setState","formItemLayout","labelCol","span","wrapperCol","required","message","pattern","RegExp","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Radio, TreeSelect } from 'antd'\nimport { reqRoleList } from '../../../api/api.js'\n\nconst FormItem = Form.Item;\n\nclass UserAdd extends Component {\n\n    addRef = React.createRef();\n\n    state = {\n        treeData: []\n    }\n\n    getTreeData = async () => {\n\n        const result = await reqRoleList();\n        console.log(\"1:\"+result);\n        if (result.code === 200) {\n            const data = result.data;\n            // if (null != data && undefined != data) {\n                this.setState({\n                    treeData: data,\n                })\n            // }\n\n        }\n    }\n\n    componentDidMount() {\n        this.getTreeData();\n    }\n\n    render() {\n\n        const formItemLayout = {\n            labelCol: { span: 6 },\n            wrapperCol: { span: 14 }\n        };\n\n        const { treeData } = this.state;\n\n\n        return (\n\n            <Form {...formItemLayout} ref={this.addRef}  >\n\n                <FormItem name=\"account\" label=\"账号\" rules={[\n                    {\n                        required: true,\n                        message: '请输入账号',\n                    },\n                    {\n                        pattern: new RegExp(/^[0-9]\\d*$/, \"g\"),\n                        message: '账号由数字组成',\n                    },\n                ]} >\n                    <Input placeholder=\"请输入账号\" />\n                </FormItem>\n\n                <FormItem name=\"name\" label=\"姓名\" rules={[\n                    {\n                        required: true,\n                        message: '请输入姓名',\n                    },\n                ]} >\n                    <Input placeholder=\"请输入姓名\" />\n                </FormItem>\n\n                <FormItem name=\"gender\" label=\"性别\">\n                    <Radio.Group>\n                        <Radio value=\"1\">男</Radio>\n                        <Radio value=\"0\">女</Radio>\n                    </Radio.Group>\n                </FormItem>\n\n                <FormItem name=\"tel\" label=\"手机号码\" >\n                    <Input placeholder=\"请输入手机号码\" />\n                </FormItem>\n\n                <FormItem name=\"email\" label=\"电子邮箱\" rules={[\n                    {\n                        type: 'email',\n                        message: '请输入正确的邮箱',\n                    },\n                ]} >\n                    <Input placeholder=\"请输入电子邮箱\" />\n                </FormItem>\n\n                <Form.Item name=\"roleIds\" label=\"角色\" rules={[\n                    {\n                        required: true,\n                    },\n                ]} >\n                    <TreeSelect\n                        allowClear=\"true\"\n                        treeCheckable=\"true\"\n                        treeData={treeData}\n                        placeholder=\"请选择角色\"\n                        treeDefaultExpandAll\n                        showCheckedStrategy=\"SHOW_PARENT\"\n                    />\n\n                </Form.Item>\n            </Form>\n        );\n    }\n}\n\nexport default UserAdd;"]},"metadata":{},"sourceType":"module"}