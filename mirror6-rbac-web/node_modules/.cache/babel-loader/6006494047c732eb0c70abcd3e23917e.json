{"ast":null,"code":"import _objectSpread from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Route,Redirect}from'react-router-dom';import React,{Component}from'react';// import { connect } from 'react-redux';\nimport storageUtil from'../utils/storageUtil';import{jsx as _jsx}from\"react/jsx-runtime\";var PrivateRoute=/*#__PURE__*/function(_Component){_inherits(PrivateRoute,_Component);var _super=_createSuper(PrivateRoute);function PrivateRoute(){_classCallCheck(this,PrivateRoute);return _super.apply(this,arguments);}_createClass(PrivateRoute,[{key:\"render\",value:// constructor(props) {\n//     super(props);\n//     console.log(\"13:\"+JSON.stringify(this.props.path))\n//     return;\n// }\n// componentDidMount() {\n//     const user = storageUtil.getUser();\n//     const rol = storageUtil.getUser().rol;\n//     const path=\"\"+this.props.path;\n//     console.log(\"存放的user:\"+JSON.stringify( user))\n//     console.log(\"存放的user url:\"+JSON.stringify( rol))\n//     console.log(\"菜单url:\"+path)\n//             this.setState({user:user,path:path})\n//\n// }\nfunction render(){var _this$props=this.props,Component=_this$props.component,rest=_objectWithoutProperties(_this$props,[\"component\"]);var rol=storageUtil.getUser().rol;var path=\"\"+this.props.path;var res=path.indexOf(path);console.log(\"rol:\"+JSON.stringify(rol));console.log(\"菜单url:\"+path);console.log(\"res:\"+res);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return res!==-1?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}}));}// render() {\n//\n//     // const user = storageUtil.getUser;\n//     // console.log(JSON.stringify(user))\n//     // console.log(\"1:\"+this.props.path)\n//\n//\n//\n//     // let { log, location, ...other } = this.props;\n//     let component = res>0  ?\n//     <Redirect to=\"/home\" /> :\n//         <Redirect to=\"/home\" />\n//\n//     return component;\n// }\n}]);return PrivateRoute;}(Component);// const mapStateToProps = (state) => {\n//     return state.log\n// }\nexport default PrivateRoute;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/config/privateRoute.jsx"],"names":["Route","Redirect","React","Component","storageUtil","PrivateRoute","props","component","rest","rol","getUser","path","res","indexOf","console","log","JSON","stringify"],"mappings":"yiCAAA,OACIA,KADJ,CAEIC,QAFJ,KAGO,kBAHP,CAIA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,C,8CAGMC,CAAAA,Y,2PAEF;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,iBAAS,iBACqC,KAAKC,KAD1C,CACcH,SADd,aACGI,SADH,CAC4BC,IAD5B,qDAEL,GAAMC,CAAAA,GAAG,CAAGL,WAAW,CAACM,OAAZ,GAAsBD,GAAlC,CACA,GAAME,CAAAA,IAAI,CAAC,GAAG,KAAKL,KAAL,CAAWK,IAAzB,CACA,GAAMC,CAAAA,GAAG,CAACD,IAAI,CAACE,OAAL,CAAaF,IAAb,CAAV,CACAG,OAAO,CAACC,GAAR,CAAY,OAAOC,IAAI,CAACC,SAAL,CAAgBR,GAAhB,CAAnB,EACAK,OAAO,CAACC,GAAR,CAAY,SAASJ,IAArB,EACAG,OAAO,CAACC,GAAR,CAAY,OAAOH,GAAnB,EAEA,mBACQ,KAAC,KAAD,gCAAWJ,IAAX,MAAiB,MAAM,CAAE,gBAAAF,KAAK,CAAI,CAC9B,MAAOM,CAAAA,GAAG,GAAG,CAAC,CAAP,cACI,KAAC,SAAD,kBAAeN,KAAf,EADJ,cAEG,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAFV,CAGH,CAJD,GADR,CAOH,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;0BAnDuBH,S,EAsD3B;AACA;AACA;AAEA,cAAeE,CAAAA,YAAf","sourcesContent":["import {\n    Route,\n    Redirect\n} from 'react-router-dom';\nimport React, { Component } from 'react';\n// import { connect } from 'react-redux';\nimport storageUtil from '../utils/storageUtil'\n\n\nclass PrivateRoute extends Component {\n\n    // constructor(props) {\n    //     super(props);\n    //     console.log(\"13:\"+JSON.stringify(this.props.path))\n    //     return;\n    // }\n\n    // componentDidMount() {\n    //     const user = storageUtil.getUser();\n    //     const rol = storageUtil.getUser().rol;\n    //     const path=\"\"+this.props.path;\n    //     console.log(\"存放的user:\"+JSON.stringify( user))\n    //     console.log(\"存放的user url:\"+JSON.stringify( rol))\n    //     console.log(\"菜单url:\"+path)\n    //             this.setState({user:user,path:path})\n    //\n    // }\n\n    render() {\n        const { component: Component, ...rest } = this.props;\n        const rol = storageUtil.getUser().rol;\n        const path=\"\"+this.props.path;\n        const res=path.indexOf(path);\n        console.log(\"rol:\"+JSON.stringify( rol))\n        console.log(\"菜单url:\"+path)\n        console.log(\"res:\"+res)\n\n        return (\n                <Route {...rest} render={props => {\n                    return res!==-1\n                            ?  <Component {...props} />\n                            : <Redirect to=\"/login\" />\n                }} />\n        )\n    }\n\n    // render() {\n    //\n    //     // const user = storageUtil.getUser;\n    //     // console.log(JSON.stringify(user))\n    //     // console.log(\"1:\"+this.props.path)\n    //\n    //\n    //\n    //     // let { log, location, ...other } = this.props;\n    //     let component = res>0  ?\n    //     <Redirect to=\"/home\" /> :\n    //         <Redirect to=\"/home\" />\n    //\n    //     return component;\n    // }\n}\n\n// const mapStateToProps = (state) => {\n//     return state.log\n// }\n\nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}