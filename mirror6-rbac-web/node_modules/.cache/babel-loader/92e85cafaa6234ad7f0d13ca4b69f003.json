{"ast":null,"code":"var _jsxFileName = \"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/user/userEdit.jsx\";\nimport React, { Component } from 'react';\nimport { Form, Input, Radio, TreeSelect, Modal } from 'antd';\nimport { reqRoleList } from '../../../api/api.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormItem = Form.Item;\n\nclass UserEdit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.editRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      treeData: [],\n      // treeData1: [{ title: \"普通角色\", value: \"1305056278851444738\", key: \"1305056278851444738\" },\n      // { title: \"学生管理员\", value: \"1305130522406924290\", key: \"1305130522406924290\" }, { title: \"教师管理员\", value: \"1306882513755795458\", key: \"1306882513755795458\" }],\n      value: undefined // value1: [\"1305056278851444738\"]\n\n    };\n\n    this.getTreeData = async () => {\n      const result = await reqRoleList();\n\n      if (result.code === 200) {\n        const data = result.data;\n        console.log(data);\n        this.setState({\n          treeData: data\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getTreeData();\n  }\n\n  componentDidUpdate() {\n    const {\n      userData\n    } = this.props;\n    this.editRef.current.setFieldsValue({ ...userData\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps() {\n    const {\n      userData\n    } = this.props;\n    this.setState({\n      value: userData.roleIds\n    });\n  }\n\n  render() {\n    const formItemLayout = {\n      labelCol: {\n        span: 6\n      },\n      wrapperCol: {\n        span: 14\n      }\n    };\n    const {\n      treeData,\n      value,\n      treeData1,\n      value1\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Form, { ...formItemLayout,\n      ref: this.editRef,\n      children: [/*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"id\",\n        label: \"\\u4E3B\\u952E\",\n        hidden: true,\n        children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"account\",\n        label: \"\\u8D26\\u53F7\",\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"name\",\n        label: \"\\u59D3\\u540D\",\n        rules: [{\n          required: true,\n          message: '请输入姓名'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"gender\",\n        label: \"\\u6027\\u522B\",\n        children: /*#__PURE__*/_jsxDEV(Radio.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Radio, {\n            value: \"1\",\n            children: \"\\u7537\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Radio, {\n            value: \"0\",\n            children: \"\\u5973\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"tel\",\n        label: \"\\u624B\\u673A\\u53F7\\u7801\",\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"email\",\n        label: \"\\u7535\\u5B50\\u90AE\\u7BB1\",\n        rules: [{\n          type: 'email',\n          message: '请输入正确的邮箱'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u7535\\u5B50\\u90AE\\u7BB1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormItem, {\n        name: \"roleIds\",\n        label: \"\\u89D2\\u8272\",\n        children: /*#__PURE__*/_jsxDEV(TreeSelect, {\n          allowClear: \"true\",\n          treeCheckable: \"true\",\n          treeData: treeData,\n          value: value,\n          showCheckedStrategy: \"SHOW_PARENT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default UserEdit;","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/pages/system/user/userEdit.jsx"],"names":["React","Component","Form","Input","Radio","TreeSelect","Modal","reqRoleList","FormItem","Item","UserEdit","editRef","createRef","state","treeData","value","undefined","getTreeData","result","code","data","console","log","setState","componentDidMount","componentDidUpdate","userData","props","current","setFieldsValue","UNSAFE_componentWillReceiveProps","roleIds","render","formItemLayout","labelCol","span","wrapperCol","treeData1","value1","required","message","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Radio, TreeSelect,Modal } from 'antd'\nimport { reqRoleList } from '../../../api/api.js'\n\nconst FormItem = Form.Item;\n\nclass UserEdit extends Component {\n\n    editRef = React.createRef();\n\n    state = {\n        treeData: [],\n        // treeData1: [{ title: \"普通角色\", value: \"1305056278851444738\", key: \"1305056278851444738\" },\n        // { title: \"学生管理员\", value: \"1305130522406924290\", key: \"1305130522406924290\" }, { title: \"教师管理员\", value: \"1306882513755795458\", key: \"1306882513755795458\" }],\n        value: undefined,\n        // value1: [\"1305056278851444738\"]\n    }\n\n    getTreeData = async () => {\n        const result = await reqRoleList();\n        if (result.code === 200) {\n            const data = result.data;\n            console.log(data)\n            this.setState({\n                treeData: data,\n            })\n        }\n    }\n\n    componentDidMount() {\n        this.getTreeData();\n    }\n\n    componentDidUpdate() {\n        const { userData } = this.props;\n        this.editRef.current.setFieldsValue({ ...userData });\n    }\n\n    UNSAFE_componentWillReceiveProps(){\n        const { userData } = this.props;\n\n        this.setState({\n            value: userData.roleIds\n        })\n    }\n\n\n    render() {\n\n        const formItemLayout = {\n            labelCol: { span: 6 },\n            wrapperCol: { span: 14 }\n        };\n\n        const { treeData, value, treeData1, value1 } = this.state;\n\n        return (\n            <Form {...formItemLayout} ref={this.editRef}  >\n                <FormItem name=\"id\" label=\"主键\" hidden>\n                    <Input />\n                </FormItem>\n\n                <FormItem name=\"account\" label=\"账号\" >\n                    <Input placeholder=\"请输入账号\" disabled />\n                </FormItem>\n\n                <FormItem name=\"name\" label=\"姓名\" rules={[\n                    {\n                        required: true,\n                        message: '请输入姓名',\n                    },\n                ]} >\n                    <Input placeholder=\"请输入姓名\" />\n                </FormItem>\n\n                <FormItem name=\"gender\" label=\"性别\">\n                    <Radio.Group>\n                        <Radio value=\"1\">男</Radio>\n                        <Radio value=\"0\">女</Radio>\n                    </Radio.Group>\n                </FormItem>\n\n                <FormItem name=\"tel\" label=\"手机号码\" >\n                    <Input placeholder=\"请输入手机号码\" />\n                </FormItem>\n\n                <FormItem name=\"email\" label=\"电子邮箱\" rules={[\n                    {\n                        type: 'email',\n                        message: '请输入正确的邮箱',\n                    },\n                ]} >\n                    <Input placeholder=\"请输入电子邮箱\" />\n                </FormItem>\n                <FormItem name=\"roleIds\" label=\"角色\">\n                    <TreeSelect\n                        allowClear=\"true\"\n                        treeCheckable=\"true\"\n                        treeData={treeData}\n                        value={value}\n                        showCheckedStrategy=\"SHOW_PARENT\"\n                    />\n                </FormItem>\n            </Form>\n        );\n    }\n}\n\nexport default UserEdit;"]},"metadata":{},"sourceType":"module"}