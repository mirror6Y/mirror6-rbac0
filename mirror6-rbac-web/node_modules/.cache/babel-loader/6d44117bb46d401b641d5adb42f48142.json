{"ast":null,"code":"var _jsxFileName = \"/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/components/nav/nav.jsx\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\nimport './nav.css';\nimport logo from '../../assets/images/log.jpg';\nimport menuList from '../../config/menuConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  SubMenu\n} = Menu;\n\nclass Nav extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      collapsed: false\n    };\n\n    this.getMenuNodes_map = menuList => {\n      return menuList.map(item => {\n        if (!item.children) {\n          return /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: [item.icon, /*#__PURE__*/_jsxDEV(Link, {\n              to: item.url,\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 23,\n              columnNumber: 25\n            }, this)]\n          }, item.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 21\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(SubMenu, {\n            icon: item.icon,\n            title: item.title,\n            children: this.getMenuNodes_map(item.children)\n          }, item.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 21\n          }, this);\n        }\n      });\n    };\n\n    this.getMenuNodes_reduce = menuList => {\n      const path = this.props.location.pathname;\n      return menuList.reduce((pre, item) => {\n        //向pre添加<Menu.Item>\n        //向pre添加<SubMenu>\n        if (!item.children) {\n          pre.push( /*#__PURE__*/_jsxDEV(Menu.Item, {\n            children: [item.icon, /*#__PURE__*/_jsxDEV(Link, {\n              to: item.url,\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 29\n            }, this)]\n          }, item.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this));\n        } else {\n          //查找一个与当前路径匹配的子item\n          const cItem = item.children.find(cItem => cItem.key === path); //如果存在，说明当前item的子列表需要打开\n\n          if (cItem) {\n            this.openKey = item.key;\n          }\n\n          pre.push( /*#__PURE__*/_jsxDEV(SubMenu, {\n            icon: item.icon,\n            title: item.title,\n            children: this.getMenuNodes_map(item.children)\n          }, item.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this));\n        }\n\n        return pre;\n      }, []);\n    };\n  }\n\n  componentWillMount() {\n    this.menuNodes = this.getMenuNodes_reduce(menuList);\n  }\n\n  render() {\n    const path = this.props.location.pathname;\n    const openKey = this.openKey;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/home\",\n          className: \"nav-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"RBAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          selectedKeys: [path],\n          defaultOpenKeys: [openKey],\n          mode: \"inline\",\n          theme: \"dark\",\n          children: this.menuNodes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n\n} //withRouter高阶组件：包装非路由组件，返回一个新的组件。\n//新的组件向非路由组件传递3个属性：history、location、match\n\n\nexport default _c = withRouter(Nav); // export default Nav\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/mirror6/IdeaProjects/mirror6-rbac0/mirror6-rbac-web/src/components/nav/nav.jsx"],"names":["React","Component","Link","withRouter","Menu","logo","menuList","SubMenu","Nav","state","collapsed","getMenuNodes_map","map","item","children","icon","url","title","key","getMenuNodes_reduce","path","props","location","pathname","reduce","pre","push","cItem","find","openKey","componentWillMount","menuNodes","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom'\nimport { Menu } from 'antd';\nimport './nav.css';\nimport logo from '../../assets/images/log.jpg';\nimport menuList from '../../config/menuConfig'\n\n\nconst { SubMenu } = Menu;\nclass Nav extends Component {\n\n    state = {\n        collapsed: false,\n    };\n\n    //map+递归\n    getMenuNodes_map = (menuList) => {\n        return menuList.map(item => {\n            if (!item.children) {\n                return (\n                    <Menu.Item key={item.key} >\n                        {item.icon}\n                        <Link to={item.url}>{item.title}</Link>\n                    </Menu.Item>\n                )\n            } else {\n                return (\n                    <SubMenu key={item.key} icon={item.icon} title={item.title}>\n                        {this.getMenuNodes_map(item.children)}\n                    </SubMenu>\n                )\n            }\n\n        })\n    }\n\n    //reduce+递归\n    getMenuNodes_reduce = (menuList) => {\n\n        const path = this.props.location.pathname;\n\n        return menuList.reduce((pre, item) => {\n            //向pre添加<Menu.Item>\n            //向pre添加<SubMenu>\n            if (!item.children) {\n                pre.push(\n                    (\n                        <Menu.Item key={item.key} >\n                            {item.icon}\n                            <Link to={item.url}>{item.title}</Link>\n                        </Menu.Item>\n                    )\n                )\n            } else {\n                //查找一个与当前路径匹配的子item\n                const cItem = item.children.find(cItem => cItem.key === path)\n                //如果存在，说明当前item的子列表需要打开\n                if (cItem) {\n                    this.openKey = item.key;\n                }\n                pre.push(\n                    (\n                        <SubMenu key={item.key} icon={item.icon} title={item.title}>\n                            {this.getMenuNodes_map(item.children)}\n                        </SubMenu>\n                    )\n                )\n            }\n            return pre;\n        }, [])\n    }\n\n    componentWillMount() {\n        this.menuNodes = this.getMenuNodes_reduce(menuList);\n    }\n\n    render() {\n        const path = this.props.location.pathname;\n        const openKey = this.openKey;\n         \n        return (\n            <div>\n                <div className=\"nav\">\n                    <Link to='/home' className=\"nav-header\">\n                        <h1>RBAC</h1>\n                    </Link>\n\n                    <Menu\n                        selectedKeys={[path]}\n                        defaultOpenKeys={[openKey]}\n                        mode=\"inline\"\n                        theme=\"dark\"\n                    >\n                        {\n                            this.menuNodes\n                        }\n\n                    </Menu>\n                </div>\n            </div>\n\n        );\n    }\n}\n\n//withRouter高阶组件：包装非路由组件，返回一个新的组件。\n//新的组件向非路由组件传递3个属性：history、location、match\nexport default withRouter(Nav)\n// export default Nav"]},"metadata":{},"sourceType":"module"}